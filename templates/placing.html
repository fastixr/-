<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=7bb7d1cf-d99b-466c-b516-579a37e76f0d&lang=ru_RU" type="text/javascript"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link
    rel="stylesheet"
    type="text/css"
    href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css" integrity="sha512-yHknP1/AwR+yx26cB1y0cjvQUMvEa2PFzt1c9LlS4pRQ5NOTZFWbhBig+X9G9eYW/8m0/4OXNx8pxJ6z57x0dw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css" integrity="sha512-17EgCFERpgZKcm0j0fEq1YCJuyAWdz9KUtv1EjVuaOz8pDnh/0nZxmU6BBXwaaxqoi9PQXnRWqlcDB027hgv9A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Корзина</title>
</head>
<body>
    <div class="container">
        <header id="header_cart" class="header d-flex flex-wrap align-items-center justify-content-center justify-content-md-between" style="height: 90px;">
            <div class="col-md-3 mb-2 mb-md-0">
                <a href="/">
                    <img id="logo_cart" src="{{ url_for('static', filename='img/avatar_full.png') }}" alt="logo_cart">
                </a>
                <img id="info_placing" src="{{ url_for('static', filename='img/info_placing.png') }}" alt="info_placing">
            </div>
        </header>
    </div>
    <div id="block_placing" class="block">
        <h2 id="order_deliver" class="text">Заказ на доставку</h2>
        <form>
            <h2 id="name_placing" class="text">Имя</h2>
            <div id="block_name_pl">
                <div class="wrapper_name_pl">
                    <div class="input_name_pl">
                        <input type="text" id="name_form_pl" name="name" value="Владимир"
                        pattern="[А-Яа-яЁё]+"
                        title="Используйте только буквы кириллицы" required disabled>
                        <button id="edit_name_button_pl">Изменить</button>
                    </div>
                </div>
            </div>
            <h2 id="phone_pl" class="text">Номер телефона</h2>
            <div id="block_phone_pl">
                <div class="wrapper_phone_pl">
                    <div class="input_phone_pl">
                        <input type="text" id="phone_form_pl" name="phone_form_pl" value="+7(800)555-35-35" disabled 
                        pattern="\+7\([0-9]{3}\)[0-9]{3}-[0-9]{2}-[0-9]{2}"
                        title="Формат телефона: +7(000)000-00-00" required>
                        <button id="edit_phone_button_pl">Изменить</button>
                    </div>
                </div>
            </div>
            <h2 id="date_pl" class="text">Адрес доставки</h2>
            <div id="block_address_pl">
                <div class="wrapper_address_pl">
                    <div class="input_address_pl">
                        <input type="text" id="name_form" value="Адрес" disabled>
                        <button id="edit_address_button_pl">Изменить</button>
                        <button id="choose_sam_button_pl">Выбрать самовывоз</button>
                    </div>
                </div>
            </div>
            <h2 id="time_placing" class="text">Время доставки</h2>
            <div id="block_time_pl">
                <div class="wrapper_time_pl">
                    <div class="input_time_pl">
                        <input type="text" id="time_form_pl" value="Побыстрее" disabled>
                        <button id="edit_time_button_pl">Изменить</button>
                    </div>
                </div>
            </div>
            <h2 id="promo_placing" class="text">Промокод</h2>
            <div id="block_promo_pl">
                <div class="wrapper_promo_pl">
                    <div class="input_promo_pl">
                        <input type="text" id="promo_form_pl" placeholder="Введите промокод" enabled>
                        <button id="edit_promo_button_pl">Применить</button>
                    </div>
                </div>
            </div>
        </form>
        <div id="block_card_placing" class="rectangle_placing">
            <h2 id="cash_method_text" type="text">Наличными</h2>
            <h2 id="card_method_text" type="text">Картой на сайте</h2>
            <label>
                <input id="card_method" class="radio_pl" type="radio" name="method_placing">
                <span></span>
            </label>
            <div id="cash-input" style="display: none;">
                <h2 id="s_kakoi">С какой суммы подготовить сдачу?</h2>
                <div id="block_cash_change_pl">
                    <div class="wrapper_cash_change_pl">
                        <div class="input_cash_change_pl">
                            <input type="text" id="cash_change_pl" 
                            pattern="d*" title="Используйте только цифры" enabled>
                        </div>
                    </div>
                </div>
                <label>
                    <input id="without_change_placing" type="checkbox">
                    <span></span>
                    <h2 id="without_change_text_placing">Без сдачи</h2>
                </label>
                <button id="save_cash_button">Выбрать</button>
            </div>
            <label>
                <input id="cash_method" type="radio" name="method_placing">
                <span></span>
            </label>
            <div id="card-input" style="display: none;">
                <form>
                    <div id="block_card_pl">
                        <div class="wrapper">
                            <div class="input_card_pl">
                                <input type="text" id="card_name_form_pl" placeholder="0000 0000 0000 0000" 
                                pattern="d{4} d{4} d{4} d{4}" 
                                title="Номер карты должен состоять из 16 цифр и быть разделён пробелами" enabled>
                            </div>
                        </div>
                    </div>
                    <div id="block_card_date_pl">
                        <div class="wrapper_card_date_pl">
                            <div class="input_date_card_pl">
                                <input type="text" id="date_form_pl" placeholder="мм/гг"
                                pattern="(0[1-9]|1[0-2])/d{2}" title="Дата должна быть в формате мм/гг" enabled>
                            </div>
                        </div>
                    </div>
                    <div id="block_card_cvc_pl">
                        <div class="wrapper_card_date_pl">
                            <div class="input_card_cvc_pl">
                                <input type="text" id="cvc_form_pl" placeholder="CVC"
                                pattern="d{3}" title="CVC код должен состоять из 3 цифр" enabled>
                            </div>
                        </div>
                    </div>
                </form>
                <button id="save_card_button">Сохранить</button>
                <img id="card_method_image" class="card_method_img" src="{{ url_for('static', filename='img/card_method.png') }}" alt="card">
            </div>
        </div>
        <div>
            <label>
                <input id="sub_check_placing" type="checkbox">
                <span></span>
                <h2 id="sub_text_placing">Сообщать о бонусах, акциях и новых продуктах.</h2>
            </label>
        </div>
        <span id="info_sub_pl" class="clue" data-clue="Согласие на СМС-расслыку от ООО Пицца от Пашки">
            i
        </span>
        <button id="offer_accept" type="button" class="btn btn-light">Оформить заказ на {{ session['total_price'] }} ₽.</button>
        <container>
            <a href="{{ url_for('cart') }}">
                <div id="back_to_cart">Назад в корзину</div>
                <img id="strelka" class="strelka_img" src="{{ url_for('static', filename='img/strelka.png') }}" alt="strelka">
            </a>            
        </container>
        <div id="block_order_structure" class="rectangle_order">
            <h2 id="order_list" type="text">Состав заказа</h2>
            {% for dish in session['order'] %}
            <div id="block_order_table_names">
                <table>
                    <tr>
                        <td>{{ dish['name'] }} x {{ dish['quantity'] }}</td>
                    </tr>
                </table>
            </div>
            <div id="block_order_table_costs">
                <table>
                    <tr>
                        <td>{{ dish['price'] * dish['quantity'] }}руб</td>
                    </tr>
                </table>
            </div>
            {% endfor %}
            <tr>
                <td>Сумма заказа: {{ session['total_price'] }}руб</td>
            </tr>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/placing.js') }}"></script>
</body>
</html>